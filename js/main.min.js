"use strict";function scrollMenu(e,t,n,i){var a,r=document.querySelector(e);if(t){var o=document.querySelector(t);a=o?o.clientHeight:0}else a=0;function s(e){window.setTimeout(e,1e3/60)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||s,function(e,t,n){function i(e){e.preventDefault(),function(e,t,n){var i=e||0;i+=2,t=t||2e3,n=n||"easeOutSine";var a=window.pageYOffset,r=0,o=Math.max(.1,Math.min(Math.abs(a-i)/t,.8)),s={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function e(){var t=(r+=1/60)/o,c=s[n](t);t<1?(window.requestAnimFrame(e),window.scrollTo(0,a+(i-a)*c)):window.scrollTo(0,i)}()}(document.querySelector(this.hash).getBoundingClientRect().top+window.pageYOffset-a,t,n)}var r=void 0,o=e.querySelectorAll('a[href^="#"]');for(r=0;r<o.length;r+=1)o[r].addEventListener("click",i)}(r,n,i),document.addEventListener("scroll",(function(){!function(e){var t=void 0,n=void 0,i=void 0,r=e.querySelectorAll('a[href^="#"]'),o=window.pageYOffset;for(t=0;t<r.length;t+=1){n=r[t];var s=(i=document.querySelector(n.getAttribute("href"))).getBoundingClientRect().top+o-a;s<=o&&s+i.clientHeight>o?n.classList.add("active"):n.classList.remove("active")}}(r)}))}function initMap(){var e=new google.maps.LatLng(55.730613,37.593276),t=document.getElementById("map");if(t)var n=new google.maps.Map(t,{center:e,zoom:15,disableDefaultUI:!0});new google.maps.Marker({position:e,map:n,icon:"img/pin.png"})}objectFitImages(),$(".object__slider").slick({prevArrow:$(".object__prev"),nextArrow:$(".object__next"),slidesToShow:1,slidesToScroll:1}),baguetteBox.run(".gallery"),function(){for(var e=document.querySelectorAll("a, button, label, input"),t=!1,n=0;n<e.length;n++){var i=e[n];"LABEL"!==i.tagName&&i.classList.add("focus"),i.addEventListener("mousedown",(function(){this.classList.remove("focus"),t=!0})),i.addEventListener("keydown",(function(e){"Tab"===e.key&&(t=!1)})),i.addEventListener("focus",(function(){t&&this.classList.remove("focus")})),i.addEventListener("blur",(function(){this.classList.add("focus")}))}}(),function(){var e=document.querySelector(".nav"),t=document.querySelector(".overlay"),n=document.querySelector("body");document.querySelector(".nav__burger").addEventListener("click",(function(){this.classList.toggle("active"),e.classList.toggle("active"),t.classList.toggle("active"),n.classList.toggle("lock"),swipe(e)}))}(),function(){var e=document.querySelectorAll("[data-drop]");if(e)for(var t=0;t<e.length;t++){var n='<span class="visuallyhidden">открыть подменю для“'+e[t].parentElement.querySelector("a").text+"”</span>";e[t].insertAdjacentHTML("beforeend",n),e[t].addEventListener("click",(function(e){this.classList.contains("active")?(this.classList.remove("active"),this.nextElementSibling.classList.remove("show"),this.setAttribute("aria-expanded","false"),this.parentElement.querySelector("a").setAttribute("aria-expanded","false")):(this.classList.add("active"),this.nextElementSibling.classList.add("show"),this.setAttribute("aria-expanded","true"),this.parentElement.querySelector("a").setAttribute("aria-expanded","true"))}))}}(),function(){var e=document.querySelector("[data-up]");var t=0,n=!0;e&&(e.addEventListener("click",(function e(){window.scrollBy(0,-80),window.pageYOffset>0&&requestAnimationFrame(e)})),document.addEventListener("scroll",(function(){n&&(n=!1,setTimeout((function(){var i=window.pageYOffset;i>600&&i<t?e.classList.add("show"):e.classList.remove("show"),t=i,n=!0}),200))})))}(),function(){var e=document.getElementById("form_1"),t=document.getElementById("form_2"),n=document.getElementById("form_3"),i=document.querySelectorAll("input[required]");if(i)for(var a=0;a<i.length;a++){var r=i[a];r.addEventListener("blur",s),r.addEventListener("focus",o)}function o(){var e=this.parentElement.querySelector(".error");this.classList.remove("invalid"),e.innerHTML=""}function s(){var e=this.parentElement.querySelector(".error");return this.validity.valid?0:(this.classList.add("invalid"),e.innerHTML="ошибка / неправильный формат",(this.validity.valueMissing||""===this.value)&&(e.innerHTML="ошибка / заполните поле"),1)}function c(e){var t=this.querySelectorAll("input[required]"),n=this.querySelector('input[name="agree"]'),i=0;if(!n||n.checked)for(var a=0;a<t.length;a++){var r=t[a];(i+=s.call(r))&&e.preventDefault()}else e.preventDefault(),i++;return i}e&&e.addEventListener("submit",c),t&&t.addEventListener("submit",(function(e){e.preventDefault();var t=this;if(0===c.call(t,e)){this.classList.add("sending");var n=new FormData(this),i=new XMLHttpRequest;i.open("POST",this.getAttribute("action")),i.send(n),i.onloadend=function(){200==i.status?(t.classList.remove("sending"),t.reset()):console.log("Ошибка"+this.status)}}})),n&&n.addEventListener("submit",c)}(),function(){var e=document.querySelectorAll('[role="tablist"]')[0],n=document.querySelectorAll('[role="tab"]'),a=document.querySelectorAll('[role="tabpanel"]');function r(e,i){i=i||!0,function(){for(t=0;t<n.length;t++)n[t].setAttribute("tabindex","-1"),n[t].setAttribute("aria-selected","false"),n[t].classList.remove("active"),n[t].removeEventListener("focus",v);for(p=0;p<a.length;p++)a[p].setAttribute("hidden","hidden")}(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true"),e.classList.add("active");var r=e.getAttribute("aria-controls");document.getElementById(r).removeAttribute("hidden"),i&&e.focus()}var o={end:35,home:36,left:37,up:38,right:39,down:40},s={37:-1,38:-1,39:1,40:1};for(i=0;i<n.length;++i)c(i);function c(e){n[e].addEventListener("click",l),n[e].addEventListener("keydown",d),n[e].addEventListener("keyup",u),n[e].index=e}function l(e){r(e.target,!1)}function d(e){switch(e.keyCode){case o.end:e.preventDefault(),r(n[n.length-1]);break;case o.home:e.preventDefault(),r(n[0]);break;case o.up:case o.down:f(e)}}function u(e){switch(e.keyCode){case o.left:case o.right:f(e)}}function f(t){var i=t.keyCode,a=!1;"vertical"==e.getAttribute("aria-orientation")?i!==o.up&&i!==o.down||(t.preventDefault(),a=!0):i!==o.left&&i!==o.right||(a=!0),a&&function(e){var t=e.keyCode;for(x=0;x<n.length;x++)n[x].addEventListener("focus",v);if(s[t]){var i=e.target;void 0!==i.index&&(n[i.index+s[t]]?n[i.index+s[t]].focus():t===o.left||t===o.up?n[n.length-1].focus():t!==o.right&&t!=o.down||n[0].focus())}}(t)}function v(e){var t=e.target;setTimeout(m,30,t)}function m(e){focused=document.activeElement,e===focused&&r(e,!1)}}(),google.maps.event.addDomListener(window,"load",initMap),function(){var e=document.getElementById("file-name"),t=document.getElementById("input_file");t&&t.addEventListener("change",(function(){files=this.files,1==files.length?e.innerHTML="Имя файла: "+files[0].name:e.innerHTML="Выбрано "+files.length+" Файла(ов)"}))}(),function(){var e=document.querySelectorAll("[data-move]");if(e){var t=function(t){for(var n=0;n<e.length;n++){var i=e[n],a=i.getAttribute("data-move"),r=document.querySelector('[data-start="'+a+'"]'),o=document.querySelector('[data-where="'+a+'"]');t.matches?i.classList.contains("done")&&(r.appendChild(i),i.classList.remove("done")):i.classList.contains("done")||(o.appendChild(i),i.classList.add("done"))}},n=window.matchMedia("(min-width: 440px)");n.addListener(t),t(n)}}();